[workspace]
name = "blaze-zig-port"
version = "0.1.0"
description = "Porting Blaze C++ library to Zig"
channels = ["conda-forge"]
platforms = ["linux-64"]

[dependencies]
# Build tools
cmake = ">=3.28"
ninja = ">=1.11"
make = ">=4.3"
git = ">=2.40"

# C++ toolchain
cxx-compiler = ">=1.7"
libstdcxx-devel_linux-64 = ">=13"

# Intel MKL for BLAS/LAPACK
mkl = ">=2024"
mkl-devel = ">=2024"
mkl-include = ">=2024"

# Zig compiler
zig = ">=0.13"

[activation]
scripts = ["activate.sh"]

[tasks]
build-cpp = "cmake --build build-cpp --parallel"
run-cpp-bench = "./build-cpp/blaze_bench"
build-zig = "zig build -Doptimize=ReleaseFast"
run-zig-bench = "./zig-out/bin/blaze_zig_bench"
